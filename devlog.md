# AI 교육 플랫폼 개발 로그

## 프로젝트 개요
- **프로젝트명**: AI Chatbot Teacher Code - 교사용 AI 교육 플랫폼
- **기술 스택**: Firebase (Hosting, Functions, Firestore, Authentication), HTML/CSS/JavaScript, Google AI (Gemini)
- **개발 기간**: 2025년 8월 ~ 현재 진행중

## 주요 기능 목록

### 1. 기본 교육 플랫폼 기능
- **교사 대시보드**: Google 인증을 통한 교사 로그인 및 관리 패널
- **클래스 관리**: 교사별 클래스 생성, 학생 등록 및 관리
- **실험(탐구) 관리**: 실험 주제, 목표, 과목 설정
- **보고서 시스템**: 개인/그룹 보고서 작성 및 제출
- **QR 코드 시스템**: 학생 접근용 QR 코드 생성 및 관리

### 2. AI 통합 기능
- **적응형 프롬프트 시스템**: 학생 응답 유형에 따른 동적 프롬프트 선택
- **과목별 프롬프트 관리**: JSON 기반 과목별 응답 패턴 및 프롬프트 템플릿
- **커스텀 프롬프트**: 교사가 직접 프롬프트를 편집하고 관리하는 기능
- **AI 피드백**: Gemini API를 활용한 자동 피드백 생성

### 3. 고급 사용자 경험
- **반응형 디자인**: 모바일 친화적 UI/UX
- **실시간 제출 현황**: 학생별/그룹별 제출 상태 실시간 모니터링
- **모달 기반 상호작용**: QR 코드 확대, 보고서 상세보기 등
- **캐시 버스팅**: 배포 시 CSS 캐시 문제 해결

## 개발 단계별 기록

### Phase 1: 기본 플랫폼 구축 (2025.08 초)
- Firebase 프로젝트 초기 설정 및 기본 인프라 구성
- 교사 인증 시스템 및 기본 CRUD 기능 구현
- 학생 보고서 작성 및 제출 기능 개발

### Phase 2: AI 통합 및 프롬프트 시스템 (2025.08 중)
- Gemini API 연동 및 AI 응답 생성 시스템 구축
- 적응형 프롬프트 시스템 설계 및 구현
- 교사용 프롬프트 관리 UI 개발

#### 2.1 적응형 프롬프트 아키텍처
```
학생 메시지 → analyzeStudentResponse() → 응답 유형 분류 → 
프롬프트 선택 (커스텀 우선, 기본값 대체) → buildFullPrompt() → 
시스템 지시사항 + 학습 맥락 + 대화 기록 결합 → AI 모델 호출 → 응답 반환
```

#### 2.2 JSON 기반 과목별 프롬프트 시스템
- `prompts/math.json`, `prompts/art.json` 등 과목별 설정 파일
- 각 과목별 응답 패턴(response_patterns)과 적응형 프롬프트(adaptive_prompts) 정의
- 백엔드에서 동적으로 과목별 설정 로드 및 적용

### Phase 3: UI/UX 개선 및 고도화 (2025.08 후)
- 제출 현황 UI 개선: 개인/그룹 보고서별 차별화된 레이아웃
- QR 코드 모달 및 확대 기능 구현
- 모바일 반응형 디자인 최적화
- CSS 캐시 버스팅 시스템 적용

## 핵심 구현 내용

### 1. 백엔드 아키텍처 (functions/index.js)
```javascript
// 주요 함수들
- getTutorResponse: AI 응답 생성 (적응형 프롬프트 적용)
- analyzeStudentResponse: 학생 응답 유형 분석
- buildFullPrompt: 최종 프롬프트 구성
- updateTeacherPrompt: 교사 커스텀 프롬프트 저장
- getDefaultPrompt: 기본 프롬프트 제공
```

### 2. 과목별 JSON 구조
```json
{
  "subject": "수학",
  "response_patterns": {
    "correct_answer": ["정답", "맞아"],
    "partial_understanding": ["비슷해", "거의"],
    "misconception": ["틀렸어", "아니야"],
    "help_request": ["모르겠어", "도와줘"],
    "clarification": ["뜻이 뭐야", "설명해줘"]
  },
  "adaptive_prompts": {
    "correct_answer": "훌륭해요! 다음 단계로...",
    "help_request": "천천히 함께 해결해보세요..."
  }
}
```

### 3. 프론트엔드 주요 기능
- **교사 대시보드**: 과목별 프롬프트 편집 및 미리보기
- **학생 인터페이스**: 챗봇 기반 대화형 학습 지원
- **실험 상세**: 제출 현황 모니터링 및 QR 코드 관리

## 기술적 특징

### 1. 확장 가능한 아키텍처
- JSON 기반 과목별 설정으로 새로운 과목 추가 용이
- 모듈화된 프롬프트 시스템으로 유지보수성 향상
- Firebase 기반으로 실시간 데이터 동기화

### 2. 성능 최적화
- 캐시 버스팅으로 배포 시 즉시 반영
- 효율적인 Firestore 쿼리 구조
- 클라이언트 사이드 상태 관리

### 3. 사용자 경험
- 직관적인 교사 대시보드 UI
- 학생 친화적인 챗봇 인터페이스
- 모바일 최적화된 반응형 디자인

## 향후 개발 계획

### 단기 목표 (1-2개월)
1. 수정 기능 구현: 클래스, 학생, 실험 정보 수정 기능
2. AI 피드백 수동 생성: 비용 관리를 위한 수동 피드백 생성 전환
3. CSV 다운로드: 보고서 데이터 일괄 다운로드 기능

### 중기 목표 (3-6개월)
1. 포트폴리오 인쇄/다운로드 기능
2. 첨부파일 지원 (Firebase Storage 활용)
3. 학생 간 피드백 및 댓글 시스템
4. 과목별 태그 및 필터링 시스템

### 장기 목표 (6개월 이상)
1. 프로젝트 기반 탐구 관리 시스템
2. 데이터 분석 및 시각화 도구
3. 외부 센서 데이터 연동 (Ezon 등)

## 현재 상태
- **기본 플랫폼**: 완성 ✅
- **AI 통합**: 완성 ✅
- **적응형 프롬프트**: 완성 ✅
- **과목별 JSON 시스템**: 프로토타입 완성 ✅
- **UI/UX 최적화**: 완성 ✅
- **모바일 반응형**: 완성 ✅

## 최근 업데이트 (2025.08.15)
1. 과목별 적응형 프롬프트 JSON 시스템 구축 완료
2. 교사 대시보드 과목 선택 및 프롬프트 관리 UI 구현
3. CSS 캐시 버스팅 시스템 적용
4. QR 코드 모달 확대 기능 추가
5. 모바일 UI 최적화 및 반응형 디자인 개선

---

> 이 프로젝트는 AI를 활용한 교육 혁신을 목표로 하며, 확장 가능하고 유지보수가 용이한 아키텍처를 바탕으로 지속적으로 발전하고 있습니다.
